import{E as e,r as t,j as s,a5 as r,L as n}from"./react-vendor-DJsICmPt.js";import{s as a}from"./client-BiGFyOmG.js";import"./vendor-Duk2WWTq.js";import"./ui-vendor-BpqZfnrR.js";import"./supabase-vendor-CtVNLq9t.js";const i="nabd_return_to",o=()=>{const o=e();return t.useEffect(()=>{const{data:{subscription:e}}=a.auth.onAuthStateChange((e,t)=>{if("SIGNED_IN"===e&&t){const e=sessionStorage.getItem(i);if(sessionStorage.removeItem(i),e)try{if(new URL(e).origin===window.location.origin)return void(window.location.href=e)}catch{}o("/")}}),t=setTimeout(async()=>{try{const{data:{session:e},error:t}=await a.auth.getSession();if(t)return void o("/auth?error=callback_failed");if(e){const e=sessionStorage.getItem(i);if(sessionStorage.removeItem(i),e)try{if(new URL(e).origin===window.location.origin)return void(window.location.href=e)}catch{}o("/")}else o("/auth")}catch(e){o("/auth?error=unexpected")}},500);return()=>{clearTimeout(t),e.unsubscribe()}},[o]),s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center",dir:"rtl",children:[s.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-neon-purple/20 rounded-full blur-[120px] -z-10"}),s.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-neon-blue/20 rounded-full blur-[120px] -z-10"}),s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(r,{className:"h-10 w-10 text-neon-purple animate-pulse"}),s.jsxs("h1",{className:"text-3xl",children:[s.jsx("span",{className:"font-extrabold gradient-text",children:"نبض"}),s.jsx("span",{className:"font-medium text-foreground/80 mr-1",children:"AI"})]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(n,{className:"h-8 w-8 text-neon-purple animate-spin"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري إتمام تسجيل الدخول..."})]})]})]})};export{o as default};
