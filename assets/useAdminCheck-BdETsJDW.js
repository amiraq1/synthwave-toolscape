import{r as t}from"./react-core-DF6eTxSH.js";import{s as f}from"./client-BQnz2r4z.js";import{u as l}from"./useAuth-Kj5IyosW.js";const p=()=>{const{user:s,loading:a}=l(),[i,e]=t.useState(!1),[n,r]=t.useState(!0);return t.useEffect(()=>{a||(async()=>{if(!s){e(!1),r(!1);return}try{const{data:o,error:c}=await f.rpc("has_role",{_user_id:s.id,_role:"admin"});e(c?!1:o===!0)}catch{e(!1)}finally{r(!1)}})()},[s,a]),{isAdmin:i,loading:n||a}};export{p as u};
