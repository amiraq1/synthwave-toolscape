import{r}from"./react-vendor-DJsICmPt.js";import{s}from"./client-Dp-bvcZ2.js";import{u as t}from"./useAuth-DYZ77wHP.js";const a=()=>{const{user:a,loading:e}=t(),[o,i]=r.useState(!1),[n,u]=r.useState(!0);return r.useEffect(()=>{e||(async()=>{if(!a)return i(!1),void u(!1);try{const{data:r,error:t}=await s.rpc("has_role",{_user_id:a.id,_role:"admin"});i(!t&&!0===r)}catch(r){i(!1)}finally{u(!1)}})()},[a,e]),{isAdmin:o,loading:n||e}};export{a as u};
