import{r}from"./react-core-Ds-4081u.js";import{s as t}from"./client-CroYBHHp.js";import{u as s}from"./useAuth-PoIe4DG1.js";const a=()=>{const{user:a,loading:e}=s(),[o,i]=r.useState(!1),[n,c]=r.useState(!0);return r.useEffect(()=>{e||(async()=>{if(!a)return i(!1),void c(!1);try{const{data:r,error:s}=await t.rpc("has_role",{_user_id:a.id,_role:"admin"});i(!s&&!0===r)}catch(r){i(!1)}finally{c(!1)}})()},[a,e]),{isAdmin:o,loading:n||e}};export{a as u};
