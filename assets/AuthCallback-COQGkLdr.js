import{r as e,j as t,Y as s,L as r}from"./react-core-Ds-4081u.js";import{s as a}from"./client-CroYBHHp.js";import{b as o}from"./react-router-BmNS8iat.js";import"./react-dom-CJlssZTM.js";import"./vendor-BS0l4q4C.js";import"./radix-ui-ByoYm48K.js";import"./tanstack-DamGjQ03.js";import"./markdown-01_NS6zS.js";import"./supabase-CqVAhX3r.js";const i="nabd_return_to",n=()=>{const n=o();return e.useEffect(()=>{const{data:{subscription:e}}=a.auth.onAuthStateChange((e,t)=>{if("SIGNED_IN"===e&&t){const e=sessionStorage.getItem(i);if(sessionStorage.removeItem(i),e)try{if(new URL(e).origin===window.location.origin)return void(window.location.href=e)}catch{}n("/")}}),t=setTimeout(async()=>{try{const{data:{session:e},error:t}=await a.auth.getSession();if(t)return void n("/auth?error=callback_failed");if(e){const e=sessionStorage.getItem(i);if(sessionStorage.removeItem(i),e)try{if(new URL(e).origin===window.location.origin)return void(window.location.href=e)}catch{}n("/")}else n("/auth")}catch(e){n("/auth?error=unexpected")}},500);return()=>{clearTimeout(t),e.unsubscribe()}},[n]),t.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center",dir:"rtl",children:[t.jsx("div",{className:"fixed top-0 left-1/4 w-96 h-96 bg-neon-purple/20 rounded-full blur-[120px] -z-10"}),t.jsx("div",{className:"fixed bottom-0 right-1/4 w-96 h-96 bg-neon-blue/20 rounded-full blur-[120px] -z-10"}),t.jsxs("div",{className:"text-center space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(s,{className:"h-10 w-10 text-neon-purple animate-pulse"}),t.jsxs("h1",{className:"text-3xl",children:[t.jsx("span",{className:"font-extrabold gradient-text",children:"نبض"}),t.jsx("span",{className:"font-medium text-foreground/80 mr-1",children:"AI"})]})]}),t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(r,{className:"h-8 w-8 text-neon-purple animate-spin"}),t.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري إتمام تسجيل الدخول..."})]})]})]})};export{n as default};
